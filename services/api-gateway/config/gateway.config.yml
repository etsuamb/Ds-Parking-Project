http:
  port: 8080

admin:
  port: 9876
  host: localhost

# === API ENDPOINTS (Public paths the gateway exposes) ===
apiEndpoints:
  auth:
    paths:
      - /auth
      - /auth/*

  bookings:
    paths:
      - /bookings
      - /bookings/*

  parking:
    paths:
      - /parking
      - /parking/*

# === SERVICE ENDPOINTS (Internal Docker service names + ports) ===
serviceEndpoints:
  auth-service:
    url: http://auth-service:3000

  booking-service:          # ← Fixed: was "bookings-service" (wrong)
    url: http://booking-service:3001

  parking-service:
    url: http://parking-service:3002

# === POLICIES ===
policies:
  - proxy

# === PIPELINES (Connect public paths to internal services) ===
pipelines:
  auth-pipeline:
    apiEndpoints:
      - auth
    policies:
      - proxy:
          - action:
              serviceEndpoint: auth-service

  bookings-pipeline:
    apiEndpoints:
      - bookings
    policies:
      - proxy:
          - action:
              serviceEndpoint: booking-service   # ← Fixed: match serviceEndpoints name

  parking-pipeline:
    apiEndpoints:
      - parking
    policies:
      - proxy:
          - action:
              serviceEndpoint: parking-service